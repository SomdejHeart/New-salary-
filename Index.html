<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ระบบคำนวณเงินเดือน 8-bit</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        :root {
            --pixel-font: 'Press Start 2P', cursive;
            --background-color: #3C3C3C;
            --main-color: #A0B9BA;
            --highlight-color: #E8F0F3;
            --border-color: #2D2D2D;
            --panel-color: #4C4C4C;
        }

        body {
            font-family: var(--pixel-font);
            background-color: var(--background-color);
            color: var(--main-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            font-size: 10px;
            text-shadow: 2px 2px var(--border-color);
        }

        .container {
            width: 100%;
            max-width: 500px;
            border: 4px solid var(--highlight-color);
            box-shadow: 8px 8px 0px var(--border-color);
            padding: 20px;
            background-color: var(--panel-color);
            text-align: center;
        }
        
        h1 {
            color: var(--highlight-color);
            font-size: 18px;
            margin-bottom: 20px;
            text-shadow: 4px 4px 0px var(--border-color);
        }

        .input-group {
            margin-bottom: 15px;
            text-align: left;
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: var(--main-color);
        }

        input[type="number"] {
            width: calc(100% - 10px);
            padding: 8px;
            background-color: var(--background-color);
            color: var(--highlight-color);
            border: 2px solid var(--main-color);
            font-family: var(--pixel-font);
            box-sizing: border-box;
            -moz-appearance: textfield;
            text-shadow: none;
        }
        
        input[type="number"]::-webkit-outer-spin-button,
        input[type="number"]::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        button {
            width: 100%;
            padding: 10px;
            background-color: var(--highlight-color);
            color: var(--background-color);
            border: 4px solid var(--highlight-color);
            box-shadow: 4px 4px 0px var(--border-color);
            cursor: pointer;
            font-family: var(--pixel-font);
            font-size: 12px;
            margin-top: 10px;
            transition: transform 0.1s, box-shadow 0.1s;
        }

        button:hover {
            box-shadow: 2px 2px 0px var(--border-color);
            transform: translate(2px, 2px);
        }

        .result-box {
            margin-top: 25px;
            padding: 15px;
            background-color: var(--panel-color);
            border: 2px solid var(--highlight-color);
            box-shadow: 4px 4px 0px var(--border-color);
            text-align: left;
            min-height: 120px; /* เพิ่มความสูงเพื่อให้มีพื้นที่แสดงรายละเอียด */
        }
        
        .result-box h2 {
            font-size: 14px;
            color: var(--highlight-color);
            margin: 0 0 10px 0;
        }
        
        #resultDetails p {
            font-size: 10px;
            margin: 5px 0;
        }

        #totalSalary {
            position: relative;
            font-size: 16px;
            color: var(--main-color);
            text-shadow: none;
            margin-top: 10px;
        }

        /* CSS สำหรับเอฟเฟกต์ Glitch */
        .glitch-effect {
            animation: glitch-animation 1s steps(2, end) forwards;
            text-shadow: 2px 2px #ff0000, -2px -2px #0000ff;
        }

        @keyframes glitch-animation {
            0% { text-shadow: 2px 2px #ff0000, -2px -2px #0000ff; transform: translate(1px, -1px); }
            10% { text-shadow: -2px 2px #ff0000, 2px -2px #0000ff; transform: translate(-1px, 1px); }
            20% { text-shadow: 2px -2px #00ff00, -2px 2px #ffff00; transform: translate(-1px, 1px); }
            30% { text-shadow: -2px -2px #ff00ff, 2px 2px #00ffff; transform: translate(1px, 1px); }
            40% { text-shadow: 2px 2px #ff0000, -2px -2px #0000ff; transform: translate(-1px, -1px); }
            50% { text-shadow: -2px 2px #00ff00, 2px -2px #ffff00; transform: translate(1px, -1px); }
            60% { text-shadow: 2px -2px #ff00ff, -2px 2px #00ffff; transform: translate(-1px, 1px); }
            70% { text-shadow: 2px 2px #ff0000, -2px -2px #0000ff; transform: translate(1px, 1px); }
            80% { text-shadow: -2px 2px #00ff00, 2px -2px #ffff00; transform: translate(0, 0); }
            90% { text-shadow: 0 0 var(--main-color), 0 0 var(--main-color); transform: translate(0, 0); }
            100% { text-shadow: 0 0 var(--main-color), 0 0 var(--main-color); transform: translate(0, 0); }
        }
    </style>
</head>
<body>

<div class="container">
    <h1>ระบบคำนวณเงินเดือน</h1>
    <div class="input-group">
        <label for="fullDays">จำนวนวันทำงานเต็มวัน:</label>
        <input type="number" id="fullDays" value="20" min="0">
    </div>
    <div class="input-group">
        <label for="halfDays">จำนวนวันทำงานครึ่งวัน:</label>
        <input type="number" id="halfDays" value="2" min="0">
    </div>
    <div class="input-group">
        <label for="pawnTickets">จำนวนครั้งที่วิ่งตั๋ว:</label>
        <input type="number" id="pawnTickets" value="3" min="0">
    </div>
    <div class="input-group">
        <label for="offDays">จำนวนวันหยุด/ไม่มา:</label>
        <input type="number" id="offDays" value="5" min="0">
    </div>

    <button onclick="calculateSalary()">คำนวณเงินเดือน</button>

    <div class="result-box">
        <h2>สรุปยอดรวม</h2>
        <div id="resultDetails"></div>
        <div id="totalSalary">00000000</div>
    </div>
</div>

<script>
function calculateSalary() {
    const fullDays = parseFloat(document.getElementById('fullDays').value) || 0;
    const halfDays = parseFloat(document.getElementById('halfDays').value) || 0;
    const pawnTickets = parseFloat(document.getElementById('pawnTickets').value) || 0;
    const offDays = parseFloat(document.getElementById('offDays').value) || 0;

    const fullDayRate = 400;
    const halfDayRate = 200;
    const pawnTicketBonus = 100;
    const offDayRate = 0;

    const fullDayIncome = fullDays * fullDayRate;
    const halfDayIncome = halfDays * halfDayRate;
    const pawnTicketIncome = pawnTickets * pawnTicketBonus;
    const offDayIncome = offDays * offDayRate;

    const totalIncome = fullDayIncome + halfDayIncome + pawnTicketIncome + offDayIncome;

    const totalSalaryElement = document.getElementById('totalSalary');
    const resultDetailsElement = document.getElementById('resultDetails');
    const resultHeadingElement = document.querySelector('.result-box h2');

    // ขั้นตอนที่ 1: แสดงสถานะการโหลด
    resultDetailsElement.innerHTML = ''; // ลบรายละเอียดเก่าออก
    resultHeadingElement.textContent = 'กำลังประมวลผล...';
    totalSalaryElement.textContent = 'ERROR'; // แสดงข้อความ error แบบเกม
    totalSalaryElement.classList.add('glitch-effect');

    // ขั้นตอนที่ 2: ตั้งเวลาให้แสดงผลลัพธ์จริง
    setTimeout(() => {
        totalSalaryElement.classList.remove('glitch-effect');
        resultHeadingElement.textContent = 'สรุปยอดรวม';
        totalSalaryElement.textContent = `${totalIncome.toLocaleString()} บาท`;

        // แสดงรายละเอียดรายได้
        resultDetailsElement.innerHTML = `
            <p>รายได้เต็มวัน: ${fullDayIncome.toLocaleString()} บาท</p>
            <p>รายได้ครึ่งวัน: ${halfDayIncome.toLocaleString()} บาท</p>
            <p>โบนัสวิ่งตั๋ว: ${pawnTicketIncome.toLocaleString()} บาท</p>
        `;
    }, 1500); // รอ 1.5 วินาทีเพื่อจำลองการโหลด
}

document.addEventListener('DOMContentLoaded', calculateSalary);
</script>

</body>
</html>
